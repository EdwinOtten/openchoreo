## Sample DataPlane kind (Cluster-scoped)
apiVersion: core.choreo.dev/v1
kind: DataPlane
metadata:
  name: wso2-dp-local
  annotations:
    core.choreo.dev/display-name: Local Data Plane
    core.choreo.dev/description: Data plane in KinD cluster
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/name: dp-local
spec:
  kubernetesCluster:
    name: kind-cluster-1
    connectionConfigRef: kind-cluster-1-connection-config
    featureFlags:
      cilium: true
      scaleToZero: true
      gatewayType: envoy
  gateway:
    publicVirtualHost: choreoapis.local
    organizationVirtualHost: internal.choreoapis.local

---
## Sample DeploymentPipeline kind (Cluster-scoped)
apiVersion: core.choreo.dev/v1
kind: DeploymentPipeline
metadata:
  name: wso2-default-deployment-pipeline
  annotations:
    core.choreo.dev/display-name: Default Deployment Pipeline
    core.choreo.dev/description: Allows promoting from dev to production
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/name: default-deployment-pipeline
spec:
  promotionPaths:
    - sourceEnvironmentRef: development
      targetEnvironmentRefs:
        - name: staging
          requiresApproval: false
        - name: production
          isManualApprovalRequired: true
    - sourceEnvironmentRef: staging
      targetEnvironmentRefs:
        - name: production
          requiresApproval: true
---
## Sample Environment kind (Cluster-scoped)
apiVersion: core.choreo.dev/v1
kind: Environment
metadata:
  name: wso2-development
  annotations:
    core.choreo.dev/display-name: Development Environment
    core.choreo.dev/description: The environment where you can play around
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/name: development
spec:
  dataPlaneRef: wso2-dp-local #TODO: Name or label selector?
  isProduction: false
  dnsPrefix: local-dev
---
## Sample Project kind (Cluster-scoped)
apiVersion: core.choreo.dev/v1
kind: Project
metadata:
  name: wso2-internal-apps
  annotations:
    core.choreo.dev/display-name: Internal Applications
    core.choreo.dev/description: This project contains components that are used by WSO2 internal applications
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/name: internal-apps
spec:
  deploymentPipelineRef: wso2-default-deployment-pipeline
---
## Sample Component kind (Namespaced)
apiVersion: core.choreo.dev/v1
kind: Component
metadata:
  name: github-issue-reporter
  namespace: wso2-internal-apps
  annotations:
    core.choreo.dev/display-name: GitHub Issue Reporter
    core.choreo.dev/description: This component will generate a report of the issues in the GitHub repository
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/project: internal-apps
    core.choreo.dev/name: github-issue-reporter
spec:
  type: ScheduledTask
  source:
    gitRepository:
      url: https://github.com/wso2/github-issue-reporter.git
    authentication:
      secretRef: choreo-bot-git-pat
---
## Sample DeploymentTrack kind (Namespaced)
apiVersion: core.choreo.dev/v1
kind: DeploymentTrack
metadata:
  name: github-issue-reporter-daily
  namespace: wso2-internal-apps
  annotations:
    core.choreo.dev/display-name: Daily Deployment Track
    core.choreo.dev/description: This deployment track will produce a daily report
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/project: internal-apps
    core.choreo.dev/component: github-issue-reporter
    core.choreo.dev/name: daily
spec:
  buildTemplateSpec:
    branch: main
    path: /github-issue-reporter
    buildConfiguration:
      docker:
        context: /github-issue-reporter
        dockerfilePath: /github-issue-reporter/Dockerfile
---
## Sample Build kind (Namespaced)
apiVersion: core.choreo.dev/v1
kind: Build
metadata:
  name: github-issue-reporter-daily-build-2024-12-10-1
  namespace: wso2-internal-apps
  annotations:
    core.choreo.dev/display-name: Build 2024-12-10 1
    core.choreo.dev/description: Build 1 triggered on 2024-12-10
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/project: internal-apps
    core.choreo.dev/component: github-issue-reporter
    core.choreo.dev/deployment-track: daily
    core.choreo.dev/name: build-2024-12-10-1
spec:
  branch: main
  path: /github-issue-reporter
  buildConfiguration:
    docker:
      context: /github-issue-reporter
      dockerfilePath: /github-issue-reporter/Dockerfile
status:
  containerImage: mirage20/sample-task-report-generator:v1
---
## Sample DeployableArtifact kind (Namespaced)
apiVersion: core.choreo.dev/v1
kind: DeployableArtifact
metadata:
  name: github-issue-reporter-daily-deployable-artifact-2024-12-10-1
  namespace: wso2-internal-apps
  annotations:
    core.choreo.dev/display-name: Daily Deployable Artifact
    core.choreo.dev/description: Generated artifact from Build 2024-12-10 1
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/project: internal-apps
    core.choreo.dev/component: github-issue-reporter
    core.choreo.dev/deployment-track: daily
    core.choreo.dev/name: build-2024-12-10-1
spec:
  targetArtifact:
    fromBuildRef:
      name: build-2024-12-10-1
  configuration:
    application:
      env:
        - key: GITHUB_REPOSITORY
          value: https://github.com/wso2/product-apim
      task:
        disabled: false
        schedule:
          cron: "*/1 * * * *"
          timezone: Asia/Colombo
---
## Sample Deployment kind (Namespaced)
apiVersion: core.choreo.dev/v1
kind: Deployment
metadata:
  name: github-issue-reporter-daily-deployment-2024-12-10-1-development
  namespace: wso2-internal-apps
  annotations:
    core.choreo.dev/display-name: Daily Deployment
    core.choreo.dev/description: This deployment will produce a daily report
  labels:
    core.choreo.dev/organization: wso2
    core.choreo.dev/project: internal-apps
    core.choreo.dev/environment: development
    core.choreo.dev/component: github-issue-reporter
    core.choreo.dev/deployment-track: daily
    core.choreo.dev/name: development
spec:
  deploymentArtifactRef: build-2024-12-10-1

